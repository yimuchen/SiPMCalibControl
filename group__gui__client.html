<!-- HTML header for doxygen 1.8.14-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SiPM Calibration Control Program: GUI client</title>
<!-- Overriding the tabs css with our own -->
<!--link href="tabs.css" rel="stylesheet" type="text/css"/-->
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<!--Explicitly calling the including the stuff required for search-->
<!--<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
-->
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js"></script>
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.0/css/all.css" />
<link href="style.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SiPM Calibration Control Program
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">GUI client<div class="ingroups"><a class="el" href="group__gui__design.html">GUI Design</a></div></div></div>
</div><!--header-->
<div class="contents">
<p >The client side uses socket IO to real-time update a web-page to reflect the status and results of the existing calibration session. Here are try to keep all the data as simple JavaScript maps to reduce the complexity required for both server and client, as JSON parser are the only message parsers needed.</p>
<h2>External dependencies</h2>
<p >External JavaScript and CSS libraries required by for the client to function is handled by the master <a href="../../package.json"><code>package.json</code></a> file:</p>
<ul>
<li><a href="https://github.com/socketio/socket.io-client"><code>socket.io-client</code></a>: socket-io client side implementation.</li>
<li><a href="https://jquery.com/"><code>JQuery</code></a>: For easy element selection and display animations.</li>
<li><a href="https://plotly.com/javascript/"><code>Plotly</code></a>: For generation of plotting elements.</li>
<li>[<code>xterm.js</code>][xterm]: For the display of the client side terminal</li>
<li>[<code>fontawesome</code>][fontawsome]: For special element display</li>
</ul>
<p >Display elements are stored in the <a href="../templates">templates</a> directory, while the CSS styling file is written in SASS format in the [sass](sass) directory. Those are expected to be self-explanatory so the bulk of the documentation will be the logic handling implemented in JavaScript.</p>
<h2>Structure of JavaScript code</h2>
<p >The design goal of the code-base is such that there is a rough 1-1 correspondence of the JavaScript client and the python server side code, with the addition of plotting and display element manipulation.</p>
<ul>
<li><a href="js/global.js"><code>global.js</code></a> defines all the global variables as well as a bunch of translation functions. While certain elements require the page to be loaded before being initialized, the null version of the variable will still be defined there.</li>
<li><a href="js/main.js"><code>main.js</code></a> What the client should do after the client document (the webpage) is loaded. This file contains the exhaustive list of user/server initiated function calls either via a button press/keystroke or via a received signal, as well the initialization of global variables.</li>
<li><a href="js/action.js"><code>action.js</code></a> Action to be initiated client side. The function here will parse the document elements containing the relevant user inputs, then emit a <code>run-action-cmd</code> signal to the server instance. Waiting for the action to complete should be automatically performed.</li>
<li><a href="js/request.js"><code>request.js</code></a> the collection of AJAX request that is used by the client.</li>
<li><a href="js/sync.js"><code>sync.js</code></a> The handling of sync signals sent by the server. This includes hard sync and soft syncs. For the sake of consistency, the client terminal management will also be handled by this file.</li>
<li><a href="js/view"><code>view/*.js</code></a> The handling of all display elements manipulation and parsing. As display element manipulation can be extremely verbose in code, the decision is make to split the files into various JavaScript files for eases of reading. </li>
</ul>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.14-->
<!-- start footer part -->
<hr class="footer"/>
  <address class="footer">
    <small>
    Generated by <a href="http://www.doxygen.org/index.html">doxygen</a> 1.9.5
    </small>
  </address>
  <address class="footer">
    <small>
    Source code hosted on<a href="http://github.com">GitHub</a>
    </small>
  </address>
  <address class="footer">
    <small id="debugger">
    Debug:
    </small>
  </address>
<!-- custom Javascript stuff -->
  <script type="text/javascript" src="customjs/summary.js"></script>
</body>
</html>
