<!-- HTML header for doxygen 1.8.14-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SiPM Calibration Control Program: sync Namespace Reference</title>
<!-- Overriding the tabs css with our own -->
<!--link href="tabs.css" rel="stylesheet" type="text/css"/-->
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<!--Explicitly calling the including the stuff required for search-->
<!--<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
-->
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js"></script>
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.0/css/all.css" />
<link href="style.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SiPM Calibration Control Program
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">sync Namespace Reference</div></div>
</div><!--header-->
<div class="contents">

<p>sync.py  
<a href="namespacesync.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a81349beea6aa8ef7e40f7cc2c50886b2"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesync.html#a81349beea6aa8ef7e40f7cc2c50886b2">emit_sync_signal</a> (socketio, sync_id, msg)</td></tr>
<tr class="memdesc:a81349beea6aa8ef7e40f7cc2c50886b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">All sync signals will use the same namespace and will <b>always</b> be broadcasted.  <a href="namespacesync.html#a81349beea6aa8ef7e40f7cc2c50886b2">More...</a><br /></td></tr>
<tr class="separator:a81349beea6aa8ef7e40f7cc2c50886b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53ad2ed51b75ebe343c35cc111cae1e4"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesync.html#a53ad2ed51b75ebe343c35cc111cae1e4">wait_user_action</a> (socketio, msg)</td></tr>
<tr class="memdesc:a53ad2ed51b75ebe343c35cc111cae1e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setting to system state to waiting for user action with an accompanying message.  <a href="namespacesync.html#a53ad2ed51b75ebe343c35cc111cae1e4">More...</a><br /></td></tr>
<tr class="separator:a53ad2ed51b75ebe343c35cc111cae1e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad05651be344f9f45e27b3b1b5a95c654"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesync.html#ad05651be344f9f45e27b3b1b5a95c654">complete_user_action</a> (socketio)</td></tr>
<tr class="memdesc:ad05651be344f9f45e27b3b1b5a95c654"><td class="mdescLeft">&#160;</td><td class="mdescRight">Terminating the wait user state.  <a href="namespacesync.html#ad05651be344f9f45e27b3b1b5a95c654">More...</a><br /></td></tr>
<tr class="separator:ad05651be344f9f45e27b3b1b5a95c654"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7ae492aafc4fd2e4c05b75ed8863102"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesync.html#ab7ae492aafc4fd2e4c05b75ed8863102">sync_system_state</a> (socketio, new_state)</td></tr>
<tr class="memdesc:ab7ae492aafc4fd2e4c05b75ed8863102"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updating the system state of the current calibration session.  <a href="namespacesync.html#ab7ae492aafc4fd2e4c05b75ed8863102">More...</a><br /></td></tr>
<tr class="separator:ab7ae492aafc4fd2e4c05b75ed8863102"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a891e735da106f0f5b219e5a89b00b673"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesync.html#a891e735da106f0f5b219e5a89b00b673">sync_session_type</a> (socketio, new_type)</td></tr>
<tr class="memdesc:a891e735da106f0f5b219e5a89b00b673"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updating the system session type of the on-going calibration session.  <a href="namespacesync.html#a891e735da106f0f5b219e5a89b00b673">More...</a><br /></td></tr>
<tr class="separator:a891e735da106f0f5b219e5a89b00b673"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71ee9667f798afe5c7201fd10d1cccc4"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesync.html#a71ee9667f798afe5c7201fd10d1cccc4">sync_calibration_settings</a> (socketio)</td></tr>
<tr class="memdesc:a71ee9667f798afe5c7201fd10d1cccc4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sending a sync signal to update all clients that the system settings has changed.  <a href="namespacesync.html#a71ee9667f798afe5c7201fd10d1cccc4">More...</a><br /></td></tr>
<tr class="separator:a71ee9667f798afe5c7201fd10d1cccc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd98598b96ffdf45e3a7d085d556b57a"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesync.html#acd98598b96ffdf45e3a7d085d556b57a">sync_tileboard_type</a> (socketio, clear=False)</td></tr>
<tr class="memdesc:acd98598b96ffdf45e3a7d085d556b57a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sending the sync signal to indicate which tileboard is currently being stored in the calibration session.  <a href="namespacesync.html#acd98598b96ffdf45e3a7d085d556b57a">More...</a><br /></td></tr>
<tr class="separator:acd98598b96ffdf45e3a7d085d556b57a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afda4fab97affa67e46a67d75cc69cc17"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesync.html#afda4fab97affa67e46a67d75cc69cc17">send_cmd_progress</a> (socketio, done=False, error=False)</td></tr>
<tr class="memdesc:afda4fab97affa67e46a67d75cc69cc17"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returning a 2-tuple of numbers indicating the progress of the current command.  <a href="namespacesync.html#afda4fab97affa67e46a67d75cc69cc17">More...</a><br /></td></tr>
<tr class="separator:afda4fab97affa67e46a67d75cc69cc17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2c3a058eb4252cf27840c51ef3bb751"><td class="memItemLeft" align="right" valign="top"><a id="ab2c3a058eb4252cf27840c51ef3bb751" name="ab2c3a058eb4252cf27840c51ef3bb751"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>send_calib_progress</b> (socketio)</td></tr>
<tr class="memdesc:ab2c3a058eb4252cf27840c51ef3bb751"><td class="mdescLeft">&#160;</td><td class="mdescRight">Passing the signal to the client that the current calibration status has been updated. <br /></td></tr>
<tr class="separator:ab2c3a058eb4252cf27840c51ef3bb751"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34d7e0b22c13140693ae228695cc6440"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesync.html#a34d7e0b22c13140693ae228695cc6440">send_display_message</a> (socketio, msg)</td></tr>
<tr class="memdesc:a34d7e0b22c13140693ae228695cc6440"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sending a single string to handled by the client to be displayed.  <a href="namespacesync.html#a34d7e0b22c13140693ae228695cc6440">More...</a><br /></td></tr>
<tr class="separator:a34d7e0b22c13140693ae228695cc6440"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa832bc62dff5f1246f0410b457b5797d"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesync.html#aa832bc62dff5f1246f0410b457b5797d">send_error_message</a> (socketio, msg)</td></tr>
<tr class="memdesc:aa832bc62dff5f1246f0410b457b5797d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sending a single string to handled by the client to be displayed.  <a href="namespacesync.html#aa832bc62dff5f1246f0410b457b5797d">More...</a><br /></td></tr>
<tr class="separator:aa832bc62dff5f1246f0410b457b5797d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >This file contains the functions that handles sending information to the clients that is to be initiated server side: Things like the changing of the state of the calibration session, message to be passed to the user for display, the calibration parameter settings and such. All such function to start with the prefix <code>sync_</code> to help distinguish function types.</p>
<p >A second type of "soft", sync message initiated from the server would be the <code>send_</code> type. While this is sent to the client, it doesn't affect code functionality, and can be safely ignore by the client if a corresponding GUI element is not present.</p>
<p >Additional helper function are also defined help with common client/server state synchronization. For information to be sent to client-side on client request, see the file report.py. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="ad05651be344f9f45e27b3b1b5a95c654" name="ad05651be344f9f45e27b3b1b5a95c654"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad05651be344f9f45e27b3b1b5a95c654">&#9670;&#160;</a></span>complete_user_action()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def sync.complete_user_action </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>socketio</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Function should be called when the server receives the complete user action signal. It also wipes the message that is stored in session memory. </p>

</div>
</div>
<a id="a81349beea6aa8ef7e40f7cc2c50886b2" name="a81349beea6aa8ef7e40f7cc2c50886b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81349beea6aa8ef7e40f7cc2c50886b2">&#9670;&#160;</a></span>emit_sync_signal()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def sync.emit_sync_signal </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>socketio</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>sync_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >This helper function helps enforce this behavior, and help with reducing the verbosity of function calls. </p>

</div>
</div>
<a id="afda4fab97affa67e46a67d75cc69cc17" name="afda4fab97affa67e46a67d75cc69cc17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afda4fab97affa67e46a67d75cc69cc17">&#9670;&#160;</a></span>send_cmd_progress()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def sync.send_cmd_progress </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>socketio</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>done</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>error</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >to be displayed client side. In case done is set to True, then the command will always be return (1,1) or (-1,-1) used to indicate that the command has completed (or has erred), otherwise it will look at the current session output monitor file and find the string typically used to indicate the command progress. </p>

</div>
</div>
<a id="a34d7e0b22c13140693ae228695cc6440" name="a34d7e0b22c13140693ae228695cc6440"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34d7e0b22c13140693ae228695cc6440">&#9670;&#160;</a></span>send_display_message()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def sync.send_display_message </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>socketio</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Notice that these strings are not messages stored server side. </p>

</div>
</div>
<a id="aa832bc62dff5f1246f0410b457b5797d" name="aa832bc62dff5f1246f0410b457b5797d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa832bc62dff5f1246f0410b457b5797d">&#9670;&#160;</a></span>send_error_message()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def sync.send_error_message </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>socketio</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Notice that these strings are not messages stored server side. </p>

</div>
</div>
<a id="a71ee9667f798afe5c7201fd10d1cccc4" name="a71ee9667f798afe5c7201fd10d1cccc4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71ee9667f798afe5c7201fd10d1cccc4">&#9670;&#160;</a></span>sync_calibration_settings()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def sync.sync_calibration_settings </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>socketio</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >This should be call at the end of every run_*_settings function. Here we are borrowing the report_settings function to reduce code verbosity. </p>

</div>
</div>
<a id="a891e735da106f0f5b219e5a89b00b673" name="a891e735da106f0f5b219e5a89b00b673"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a891e735da106f0f5b219e5a89b00b673">&#9670;&#160;</a></span>sync_session_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def sync.sync_session_type </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>socketio</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>new_type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >This should be the method used by the various action method. </p>

</div>
</div>
<a id="ab7ae492aafc4fd2e4c05b75ed8863102" name="ab7ae492aafc4fd2e4c05b75ed8863102"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7ae492aafc4fd2e4c05b75ed8863102">&#9670;&#160;</a></span>sync_system_state()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def sync.sync_system_state </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>socketio</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>new_state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >The various action function should all call this function when making changes to the system states. </p>

</div>
</div>
<a id="acd98598b96ffdf45e3a7d085d556b57a" name="acd98598b96ffdf45e3a7d085d556b57a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd98598b96ffdf45e3a7d085d556b57a">&#9670;&#160;</a></span>sync_tileboard_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def sync.sync_tileboard_type </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>socketio</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>clear</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >The client is responsible for generating the required HTML elements and additional queries regarding the display results. </p>

</div>
</div>
<a id="a53ad2ed51b75ebe343c35cc111cae1e4" name="a53ad2ed51b75ebe343c35cc111cae1e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53ad2ed51b75ebe343c35cc111cae1e4">&#9670;&#160;</a></span>wait_user_action()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def sync.wait_user_action </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>socketio</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >The message is not sent directly, instead relying of client side for display. This is what should be used by the high level functions if one need to halt the system for user input. </p>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.14-->
<!-- start footer part -->
<hr class="footer"/>
  <address class="footer">
    <small>
    Generated by <a href="http://www.doxygen.org/index.html">doxygen</a> 1.9.5
    </small>
  </address>
  <address class="footer">
    <small>
    Source code hosted on<a href="http://github.com">GitHub</a>
    </small>
  </address>
  <address class="footer">
    <small id="debugger">
    Debug:
    </small>
  </address>
<!-- custom Javascript stuff -->
  <script type="text/javascript" src="customjs/summary.js"></script>
</body>
</html>
