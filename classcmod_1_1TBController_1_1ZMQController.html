<!-- HTML header for doxygen 1.8.14-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.10.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SiPM Calibration Control Program: cmod.TBController.ZMQController Class Reference</title>
<!-- Overriding the tabs css with our own -->
<!--link href="tabs.css" rel="stylesheet" type="text/css"/-->
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<!--Explicitly calling the including the stuff required for search-->
<!--<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
-->
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js"></script>
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.0/css/all.css" />
<link href="style.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SiPM Calibration Control Program
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.10.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>cmod</b></li><li class="navelem"><b>TBController</b></li><li class="navelem"><a class="el" href="classcmod_1_1TBController_1_1ZMQController.html">ZMQController</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classcmod_1_1TBController_1_1ZMQController-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">cmod.TBController.ZMQController Class Reference</div></div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Generic controller interface to allow passing of information to and from the tileboard through a network connection (typically called a "socket"). A controller instance will also always have an accompanying YAML configuration payload to be modified and passed to the main server socket. As with the typical setup routines defined for the other readout system. </p>
</div><div class="dynheader">
Inheritance diagram for cmod.TBController.ZMQController:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classcmod_1_1TBController_1_1ZMQController.png" usemap="#cmod.TBController.ZMQController_map" alt=""/>
  <map id="cmod.TBController.ZMQController_map" name="cmod.TBController.ZMQController_map">
<area href="classcmod_1_1TBController_1_1DAQController.html" title="Specialization for the fast control and readout socket instances." alt="cmod.TBController.DAQController" shape="rect" coords="0,56,207,80"/>
<area href="classcmod_1_1TBController_1_1I2CController.html" title="Specialized ZMQController class for I2C slow controls." alt="cmod.TBController.I2CController" shape="rect" coords="217,56,424,80"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a35bb293f0ad81494a828489b4d5a9214" id="r_a35bb293f0ad81494a828489b4d5a9214"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a35bb293f0ad81494a828489b4d5a9214">__init__</a> (self)</td></tr>
<tr class="memdesc:a35bb293f0ad81494a828489b4d5a9214"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setting up the required data member with None and do nothing more.  <br /></td></tr>
<tr class="separator:a35bb293f0ad81494a828489b4d5a9214"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a306b3b0bfa0a61c7d378a3de6ee0f73c" id="r_a306b3b0bfa0a61c7d378a3de6ee0f73c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a306b3b0bfa0a61c7d378a3de6ee0f73c">init</a> (self, ip=None, port=None, config_file='configs/init.yaml')</td></tr>
<tr class="memdesc:a306b3b0bfa0a61c7d378a3de6ee0f73c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starting the connection, and resetting the stored configuration.  <br /></td></tr>
<tr class="separator:a306b3b0bfa0a61c7d378a3de6ee0f73c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3c4b345903f8574f35d137752fc3c96" id="r_ab3c4b345903f8574f35d137752fc3c96"><td class="memItemLeft" align="right" valign="top">str&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab3c4b345903f8574f35d137752fc3c96">socket_send</a> (self, str message)</td></tr>
<tr class="memdesc:ab3c4b345903f8574f35d137752fc3c96"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sending a message over the socket connection and returning the respond string.  <br /></td></tr>
<tr class="separator:ab3c4b345903f8574f35d137752fc3c96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e4b43134a11caf9c12a70c611307631" id="r_a1e4b43134a11caf9c12a70c611307631"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1e4b43134a11caf9c12a70c611307631">socket_check</a> (self, str message, str check_str)</td></tr>
<tr class="memdesc:a1e4b43134a11caf9c12a70c611307631"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checking the response string on a message request for a particular substring.  <br /></td></tr>
<tr class="separator:a1e4b43134a11caf9c12a70c611307631"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09a50c532799bc10307c3ab1e2188efa" id="r_a09a50c532799bc10307c3ab1e2188efa"><td class="memItemLeft" align="right" valign="top">str&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a09a50c532799bc10307c3ab1e2188efa">configure</a> (self, dict yaml_config=None)</td></tr>
<tr class="memdesc:a09a50c532799bc10307c3ab1e2188efa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sending a yaml config string to socket connection.  <br /></td></tr>
<tr class="separator:a09a50c532799bc10307c3ab1e2188efa"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:abe7ce34ca13e3bffd8f2fde758b25bf8" id="r_abe7ce34ca13e3bffd8f2fde758b25bf8"><td class="memItemLeft" align="right" valign="top"><a id="abe7ce34ca13e3bffd8f2fde758b25bf8" name="abe7ce34ca13e3bffd8f2fde758b25bf8"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>ip</b></td></tr>
<tr class="separator:abe7ce34ca13e3bffd8f2fde758b25bf8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c454189a71f236b7f628df248fc68da" id="r_a5c454189a71f236b7f628df248fc68da"><td class="memItemLeft" align="right" valign="top"><a id="a5c454189a71f236b7f628df248fc68da" name="a5c454189a71f236b7f628df248fc68da"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>port</b></td></tr>
<tr class="separator:a5c454189a71f236b7f628df248fc68da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9e96dc9b251b47dfb3e75d1c4e4a81c" id="r_ab9e96dc9b251b47dfb3e75d1c4e4a81c"><td class="memItemLeft" align="right" valign="top"><a id="ab9e96dc9b251b47dfb3e75d1c4e4a81c" name="ab9e96dc9b251b47dfb3e75d1c4e4a81c"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>socket</b></td></tr>
<tr class="separator:ab9e96dc9b251b47dfb3e75d1c4e4a81c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a586b96519c9953e8c95e7d5404b0e4" id="r_a7a586b96519c9953e8c95e7d5404b0e4"><td class="memItemLeft" align="right" valign="top"><a id="a7a586b96519c9953e8c95e7d5404b0e4" name="a7a586b96519c9953e8c95e7d5404b0e4"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>yaml_config</b></td></tr>
<tr class="separator:a7a586b96519c9953e8c95e7d5404b0e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a35bb293f0ad81494a828489b4d5a9214" name="a35bb293f0ad81494a828489b4d5a9214"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a35bb293f0ad81494a828489b4d5a9214">&#9670;&#160;</a></span>__init__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cmod.TBController.ZMQController.__init__ </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Construction of the connection should not be performed in the <code>init</code> method. </p>

<p>Reimplemented in <a class="el" href="classcmod_1_1TBController_1_1I2CController.html#a21d23d9f31235c464c7f92406c16549a">cmod.TBController.I2CController</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a09a50c532799bc10307c3ab1e2188efa" name="a09a50c532799bc10307c3ab1e2188efa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09a50c532799bc10307c3ab1e2188efa">&#9670;&#160;</a></span>configure()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> str cmod.TBController.ZMQController.configure </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dict </td>          <td class="paramname"><span class="paramname"><em>yaml_config</em><span class="paramdefsep"> = </span><span class="paramdefval">None</span></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The return function will be the results of sending the configuration. If no YAML fragment is specified, then the entire configuration stored in the class instance is sent (this is potentially slow!). If a YAML configuration fragment is specified, then the configuration updated in the main configuration instances as well. </p>

</div>
</div>
<a id="a306b3b0bfa0a61c7d378a3de6ee0f73c" name="a306b3b0bfa0a61c7d378a3de6ee0f73c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a306b3b0bfa0a61c7d378a3de6ee0f73c">&#9670;&#160;</a></span>init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">cmod.TBController.ZMQController.init </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>ip</em><span class="paramdefsep"> = </span><span class="paramdefval">None</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>port</em><span class="paramdefsep"> = </span><span class="paramdefval">None</span>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>config_file</em><span class="paramdefsep"> = </span><span class="paramdefval">'configs/init.yaml'</span></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>In the case that the socket is already connect, we also setup of the socket to be closed, then reconnect, so this function effectively functions as a reconnect method. </p>

<p>Reimplemented in <a class="el" href="classcmod_1_1TBController_1_1I2CController.html#a13259b56174b009830f346d581ac9829">cmod.TBController.I2CController</a>.</p>

</div>
</div>
<a id="a1e4b43134a11caf9c12a70c611307631" name="a1e4b43134a11caf9c12a70c611307631"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e4b43134a11caf9c12a70c611307631">&#9670;&#160;</a></span>socket_check()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> bool cmod.TBController.ZMQController.socket_check </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str</td>          <td class="paramname"><span class="paramname"><em>message</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str</td>          <td class="paramname"><span class="paramname"><em>check_str</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Send a message over the socket, then check the return string for the existence of the specified input token. Returns True if the token exists, False otherwise. This the second most common routine for checking if the target server is ready for some additional operation. </p>

</div>
</div>
<a id="ab3c4b345903f8574f35d137752fc3c96" name="ab3c4b345903f8574f35d137752fc3c96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3c4b345903f8574f35d137752fc3c96">&#9670;&#160;</a></span>socket_send()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> str cmod.TBController.ZMQController.socket_send </td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>self</em>, </span></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str</td>          <td class="paramname"><span class="paramname"><em>message</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This is the most common socket connect/respond pattern used in the subsequent classes. This method will is implemented to be "dumb": no additional parsing of the string will be carried out, as that will depend on the task that the specialized function wants to perform. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/github/workspace/cmod/<a class="el" href="TBController_8py.html">TBController.py</a></li>
</ul>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.14-->
<!-- start footer part -->
<hr class="footer"/>
  <address class="footer">
    <small>
    Generated by <a href="http://www.doxygen.org/index.html">doxygen</a> 1.10.0
    </small>
  </address>
  <address class="footer">
    <small>
    Source code hosted on<a href="http://github.com">GitHub</a>
    </small>
  </address>
  <address class="footer">
    <small id="debugger">
    Debug:
    </small>
  </address>
<!-- custom Javascript stuff -->
  <script type="text/javascript" src="customjs/summary.js"></script>
</body>
</html>
