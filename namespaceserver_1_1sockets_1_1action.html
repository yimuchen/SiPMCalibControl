<!-- HTML header for doxygen 1.8.14-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SiPM Calibration Control Program: server.sockets.action Namespace Reference</title>
<!-- Overriding the tabs css with our own -->
<!--link href="tabs.css" rel="stylesheet" type="text/css"/-->
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<!--Explicitly calling the including the stuff required for search-->
<!--<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
-->
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js"></script>
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.1.0/css/all.css" />
<link href="style.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SiPM Calibration Control Program
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceserver.html">server</a></li><li class="navelem"><b>sockets</b></li><li class="navelem"><a class="el" href="namespaceserver_1_1sockets_1_1action.html">action</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">server.sockets.action Namespace Reference</div></div>
</div><!--header-->
<div class="contents">

<p>action.py  
<a href="namespaceserver_1_1sockets_1_1action.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a5f393ddc5f211f2683b8ce6089b5aade"><td class="memItemLeft" align="right" valign="top"><a id="a5f393ddc5f211f2683b8ce6089b5aade" name="a5f393ddc5f211f2683b8ce6089b5aade"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>run_image_settings</b> (<a class="el" href="namespaceserver.html#a3830a4a7c1cdf02f5e41808027a8cc31">socketio</a>, data)</td></tr>
<tr class="memdesc:a5f393ddc5f211f2683b8ce6089b5aade"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updating the settings for image parsing. <br /></td></tr>
<tr class="separator:a5f393ddc5f211f2683b8ce6089b5aade"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20760198d602d5ff97fd11c70b94c522"><td class="memItemLeft" align="right" valign="top"><a id="a20760198d602d5ff97fd11c70b94c522" name="a20760198d602d5ff97fd11c70b94c522"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>run_zscan_settings</b> (<a class="el" href="namespaceserver.html#a3830a4a7c1cdf02f5e41808027a8cc31">socketio</a>, data)</td></tr>
<tr class="memdesc:a20760198d602d5ff97fd11c70b94c522"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updating the setting related to the zscan commands for calibration processes. <br /></td></tr>
<tr class="separator:a20760198d602d5ff97fd11c70b94c522"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac76edd51de7f480839173754e2426e77"><td class="memItemLeft" align="right" valign="top"><a id="ac76edd51de7f480839173754e2426e77" name="ac76edd51de7f480839173754e2426e77"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>run_lowlight_settings</b> (<a class="el" href="namespaceserver.html#a3830a4a7c1cdf02f5e41808027a8cc31">socketio</a>, data)</td></tr>
<tr class="memdesc:ac76edd51de7f480839173754e2426e77"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updating the settings related to the lowlight calibration process. <br /></td></tr>
<tr class="separator:ac76edd51de7f480839173754e2426e77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a332b4045d3d9914578588fe46246af1c"><td class="memItemLeft" align="right" valign="top"><a id="a332b4045d3d9914578588fe46246af1c" name="a332b4045d3d9914578588fe46246af1c"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>run_lumialign_settings</b> (<a class="el" href="namespaceserver.html#a3830a4a7c1cdf02f5e41808027a8cc31">socketio</a>, data)</td></tr>
<tr class="memdesc:a332b4045d3d9914578588fe46246af1c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updating the settings related to the luminosity alignment calibration process. <br /></td></tr>
<tr class="separator:a332b4045d3d9914578588fe46246af1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76ba0cb727305bc18218a37d8f2d7adb"><td class="memItemLeft" align="right" valign="top"><a id="a76ba0cb727305bc18218a37d8f2d7adb" name="a76ba0cb727305bc18218a37d8f2d7adb"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>run_picoscope_settings</b> (<a class="el" href="namespaceserver.html#a3830a4a7c1cdf02f5e41808027a8cc31">socketio</a>, data)</td></tr>
<tr class="memdesc:a76ba0cb727305bc18218a37d8f2d7adb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updating the settings related to the picoscope readout settings. <br /></td></tr>
<tr class="separator:a76ba0cb727305bc18218a37d8f2d7adb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8271734e216aba4a2ea3d433295a34a"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceserver_1_1sockets_1_1action.html#ac8271734e216aba4a2ea3d433295a34a">run_drs_settings</a> (<a class="el" href="namespaceserver.html#a3830a4a7c1cdf02f5e41808027a8cc31">socketio</a>, data)</td></tr>
<tr class="memdesc:ac8271734e216aba4a2ea3d433295a34a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updating the settings related to the drs readout.  <a href="namespaceserver_1_1sockets_1_1action.html#ac8271734e216aba4a2ea3d433295a34a">More...</a><br /></td></tr>
<tr class="separator:ac8271734e216aba4a2ea3d433295a34a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93154f89e366035086598193a3241f30"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceserver_1_1sockets_1_1action.html#a93154f89e366035086598193a3241f30">run_drs_calib</a> (<a class="el" href="namespaceserver.html#a3830a4a7c1cdf02f5e41808027a8cc31">socketio</a>)</td></tr>
<tr class="memdesc:a93154f89e366035086598193a3241f30"><td class="mdescLeft">&#160;</td><td class="mdescRight">Running the DRS self calibration program.  <a href="namespaceserver_1_1sockets_1_1action.html#a93154f89e366035086598193a3241f30">More...</a><br /></td></tr>
<tr class="separator:a93154f89e366035086598193a3241f30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21716ab65db2435085e70d984dbdffad"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceserver_1_1sockets_1_1action.html#a21716ab65db2435085e70d984dbdffad">session_interrupt</a> (<a class="el" href="namespaceserver.html#a3830a4a7c1cdf02f5e41808027a8cc31">socketio</a>)</td></tr>
<tr class="memdesc:a21716ab65db2435085e70d984dbdffad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interupting the current command.  <a href="namespaceserver_1_1sockets_1_1action.html#a21716ab65db2435085e70d984dbdffad">More...</a><br /></td></tr>
<tr class="separator:a21716ab65db2435085e70d984dbdffad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae26b15494accb3fc6a8aa620005fb395"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceserver_1_1sockets_1_1action.html#ae26b15494accb3fc6a8aa620005fb395">run_calib_cmd</a> (<a class="el" href="namespaceserver.html#a3830a4a7c1cdf02f5e41808027a8cc31">socketio</a>, cmd, action, detid)</td></tr>
<tr class="memdesc:ae26b15494accb3fc6a8aa620005fb395"><td class="mdescLeft">&#160;</td><td class="mdescRight">Running a calibration command.  <a href="namespaceserver_1_1sockets_1_1action.html#ae26b15494accb3fc6a8aa620005fb395">More...</a><br /></td></tr>
<tr class="separator:ae26b15494accb3fc6a8aa620005fb395"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae099719343f01739f4c50a5f6c15cb76"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceserver_1_1sockets_1_1action.html#ae099719343f01739f4c50a5f6c15cb76">run_standard_calibration</a> (<a class="el" href="namespaceserver.html#a3830a4a7c1cdf02f5e41808027a8cc31">socketio</a>, msg)</td></tr>
<tr class="memdesc:ae099719343f01739f4c50a5f6c15cb76"><td class="mdescLeft">&#160;</td><td class="mdescRight">Running a standard calibration sequence on an entire board.  <a href="namespaceserver_1_1sockets_1_1action.html#ae099719343f01739f4c50a5f6c15cb76">More...</a><br /></td></tr>
<tr class="separator:ae099719343f01739f4c50a5f6c15cb76"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae2b254cdd1f57778166f000038dff11"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceserver_1_1sockets_1_1action.html#aae2b254cdd1f57778166f000038dff11">run_system_calibration</a> (<a class="el" href="namespaceserver.html#a3830a4a7c1cdf02f5e41808027a8cc31">socketio</a>, msg)</td></tr>
<tr class="memdesc:aae2b254cdd1f57778166f000038dff11"><td class="mdescLeft">&#160;</td><td class="mdescRight">System calibration with a specified calibration board.  <a href="namespaceserver_1_1sockets_1_1action.html#aae2b254cdd1f57778166f000038dff11">More...</a><br /></td></tr>
<tr class="separator:aae2b254cdd1f57778166f000038dff11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2622708fedadca8ed36121dbb4be90c9"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceserver_1_1sockets_1_1action.html#a2622708fedadca8ed36121dbb4be90c9">run_process_extend</a> (<a class="el" href="namespaceserver.html#a3830a4a7c1cdf02f5e41808027a8cc31">socketio</a>, msg)</td></tr>
<tr class="memdesc:a2622708fedadca8ed36121dbb4be90c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Extending or remeasuring a certain calibration process for a single detector.  <a href="namespaceserver_1_1sockets_1_1action.html#a2622708fedadca8ed36121dbb4be90c9">More...</a><br /></td></tr>
<tr class="separator:a2622708fedadca8ed36121dbb4be90c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26a1251d25a2314329bf07b7fb8f712a"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceserver_1_1sockets_1_1action.html#a26a1251d25a2314329bf07b7fb8f712a">run_calibration_signoff</a> (<a class="el" href="namespaceserver.html#a3830a4a7c1cdf02f5e41808027a8cc31">socketio</a>, data, store)</td></tr>
<tr class="memdesc:a26a1251d25a2314329bf07b7fb8f712a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Running the process to signoff a calibration result to be saved to the central processing server.  <a href="namespaceserver_1_1sockets_1_1action.html#a26a1251d25a2314329bf07b7fb8f712a">More...</a><br /></td></tr>
<tr class="separator:a26a1251d25a2314329bf07b7fb8f712a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebb76b00f7a92fb82e80626973344c19"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceserver_1_1sockets_1_1action.html#aebb76b00f7a92fb82e80626973344c19">prepare_calibration_session</a> (<a class="el" href="namespaceserver.html#a3830a4a7c1cdf02f5e41808027a8cc31">socketio</a>, boardtype, boardid=None, reference=None)</td></tr>
<tr class="memdesc:aebb76b00f7a92fb82e80626973344c19"><td class="mdescLeft">&#160;</td><td class="mdescRight">Preparing the data members of the global session object for a calibration session.  <a href="namespaceserver_1_1sockets_1_1action.html#aebb76b00f7a92fb82e80626973344c19">More...</a><br /></td></tr>
<tr class="separator:aebb76b00f7a92fb82e80626973344c19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a231b59b706c61f824c41e4c32ab0bb35"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceserver_1_1sockets_1_1action.html#a231b59b706c61f824c41e4c32ab0bb35">prepare_progress_check</a> (progress_detid)</td></tr>
<tr class="memdesc:a231b59b706c61f824c41e4c32ab0bb35"><td class="mdescLeft">&#160;</td><td class="mdescRight">Making the progress check map.  <a href="namespaceserver_1_1sockets_1_1action.html#a231b59b706c61f824c41e4c32ab0bb35">More...</a><br /></td></tr>
<tr class="separator:a231b59b706c61f824c41e4c32ab0bb35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd7f8bbd77a3f081ee9b2e719e7f8f40"><td class="memItemLeft" align="right" valign="top"><a id="acd7f8bbd77a3f081ee9b2e719e7f8f40" name="acd7f8bbd77a3f081ee9b2e719e7f8f40"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>clear_cache</b> ()</td></tr>
<tr class="separator:acd7f8bbd77a3f081ee9b2e719e7f8f40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad080f55d90a798bc1c5a15a56eebd0b4"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceserver_1_1sockets_1_1action.html#ad080f55d90a798bc1c5a15a56eebd0b4">set_light</a> (state)</td></tr>
<tr class="memdesc:ad080f55d90a798bc1c5a15a56eebd0b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Thin wrapper around the <a class="el" href="classGPIO.html" title="Interface to the GPIO hardware interfaces.">GPIO</a> lights on/off method.  <a href="namespaceserver_1_1sockets_1_1action.html#ad080f55d90a798bc1c5a15a56eebd0b4">More...</a><br /></td></tr>
<tr class="separator:ad080f55d90a798bc1c5a15a56eebd0b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ac4ec54302b53b614dc87337a5872d302"><td class="memItemLeft" align="right" valign="top"><a id="ac4ec54302b53b614dc87337a5872d302" name="ac4ec54302b53b614dc87337a5872d302"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>__std_calibration_lighton_msg</b> = <a class="el" href="namespaceserver_1_1sockets_1_1format.html#aff4286b7063b506b7ea0511ae6f539d6">reduce_cmd_whitespace</a>()</td></tr>
<tr class="memdesc:ac4ec54302b53b614dc87337a5872d302"><td class="mdescLeft">&#160;</td><td class="mdescRight">Long message strings are disruptive to code reading are placed here. <br /></td></tr>
<tr class="separator:ac4ec54302b53b614dc87337a5872d302"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73bbee5b3edbf117acf718829d616e8d"><td class="memItemLeft" align="right" valign="top"><a id="a73bbee5b3edbf117acf718829d616e8d" name="a73bbee5b3edbf117acf718829d616e8d"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>__std_calibration_lightoff_msg</b> = <a class="el" href="namespaceserver_1_1sockets_1_1format.html#aff4286b7063b506b7ea0511ae6f539d6">reduce_cmd_whitespace</a>()</td></tr>
<tr class="separator:a73bbee5b3edbf117acf718829d616e8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39d0ee07f757860dabcaec6fe9d74053"><td class="memItemLeft" align="right" valign="top"><a id="a39d0ee07f757860dabcaec6fe9d74053" name="a39d0ee07f757860dabcaec6fe9d74053"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>__sys_calibration_lighton_message</b> = <a class="el" href="namespaceserver_1_1sockets_1_1format.html#aff4286b7063b506b7ea0511ae6f539d6">reduce_cmd_whitespace</a>()</td></tr>
<tr class="memdesc:a39d0ee07f757860dabcaec6fe9d74053"><td class="mdescLeft">&#160;</td><td class="mdescRight">Long message strings are disruptive to code reading are placed here. <br /></td></tr>
<tr class="separator:a39d0ee07f757860dabcaec6fe9d74053"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaabf163d8dcb8167a5e23e0b05432256"><td class="memItemLeft" align="right" valign="top"><a id="aaabf163d8dcb8167a5e23e0b05432256" name="aaabf163d8dcb8167a5e23e0b05432256"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>__sys_calibration_lightoff_message</b> = <a class="el" href="namespaceserver_1_1sockets_1_1format.html#aff4286b7063b506b7ea0511ae6f539d6">reduce_cmd_whitespace</a>()</td></tr>
<tr class="separator:aaabf163d8dcb8167a5e23e0b05432256"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >This function defines the functions required to complete user actions. Highlevel functions that are called by the parsing function will always start with the prefix <code>run_</code>. Other helper functions are also defined in this file.</p>
<p >Notice that this file should not not have to handle the sending the signals to signal the completion of various signals. This should be handled in the sync.py file. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="aebb76b00f7a92fb82e80626973344c19" name="aebb76b00f7a92fb82e80626973344c19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aebb76b00f7a92fb82e80626973344c19">&#9670;&#160;</a></span>prepare_calibration_session()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def server.sockets.action.prepare_calibration_session </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>socketio</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>boardtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>boardid</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>reference</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >This includes:</p>
<ol type="1">
<li>Loading the boardtype and reference board.</li>
<li>The construction of the data cache map.</li>
<li>Construction of the "ordered list of detectors", this is a very naive algorithm aimed to reduce the horizontal motion path required to visit all detector. Starting from the 0th detector listed on the board, kee finding the closest unvisited neighbor all detectors have been visited.</li>
</ol>
<p >If any of the steps fail, the function will return false. </p>

</div>
</div>
<a id="a231b59b706c61f824c41e4c32ab0bb35" name="a231b59b706c61f824c41e4c32ab0bb35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a231b59b706c61f824c41e4c32ab0bb35">&#9670;&#160;</a></span>prepare_progress_check()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def server.sockets.action.prepare_progress_check </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>progress_detid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >The input format should be a dictionary in the format of: { process_tag: detid_list } This aims to reduce the verbosity of construction </p>

</div>
</div>
<a id="ae26b15494accb3fc6a8aa620005fb395" name="ae26b15494accb3fc6a8aa620005fb395"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae26b15494accb3fc6a8aa620005fb395">&#9670;&#160;</a></span>run_calib_cmd()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def server.sockets.action.run_calib_cmd </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>socketio</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>action</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>detid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Asside from running the run_single_cmd command for updating the command status. There is also the calibration progress bar that needs updating. This is a very thin wrapper around that. </p>

</div>
</div>
<a id="a26a1251d25a2314329bf07b7fb8f712a" name="a26a1251d25a2314329bf07b7fb8f712a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a26a1251d25a2314329bf07b7fb8f712a">&#9670;&#160;</a></span>run_calibration_signoff()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def server.sockets.action.run_calibration_signoff </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>socketio</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>store</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >All data files, as well as the calibration summary, the user submitted comment will be packed into a single tar ball to be passed over to the central processing server.</p>
<p >For system calibrations, all stored will be passed over to the calib/ directory for future reference.</p>
<p >For standard calibration processes, an extra comment line is also generated to store the reference calibration session. </p>

</div>
</div>
<a id="a93154f89e366035086598193a3241f30" name="a93154f89e366035086598193a3241f30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93154f89e366035086598193a3241f30">&#9670;&#160;</a></span>run_drs_calib()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def server.sockets.action.run_drs_calib </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>socketio</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Here we need to raise a user action </p>

</div>
</div>
<a id="ac8271734e216aba4a2ea3d433295a34a" name="ac8271734e216aba4a2ea3d433295a34a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8271734e216aba4a2ea3d433295a34a">&#9670;&#160;</a></span>run_drs_settings()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def server.sockets.action.run_drs_settings </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>socketio</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Entire thing is encapsulated, as the DRS system might not be available. </p>

</div>
</div>
<a id="a2622708fedadca8ed36121dbb4be90c9" name="a2622708fedadca8ed36121dbb4be90c9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2622708fedadca8ed36121dbb4be90c9">&#9670;&#160;</a></span>run_process_extend()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def server.sockets.action.run_process_extend </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>socketio</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >This command also trigger the additional routines required for updating the cached data and the stored progress if needed. </p>

</div>
</div>
<a id="ae099719343f01739f4c50a5f6c15cb76" name="ae099719343f01739f4c50a5f6c15cb76"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae099719343f01739f4c50a5f6c15cb76">&#9670;&#160;</a></span>run_standard_calibration()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def server.sockets.action.run_standard_calibration </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>socketio</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Notice that this assumes that a reference calibration already exists. For each detector on the board the standard calibration sequence is as such:</p><ol type="1">
<li>A visual alignment is performed, the transformation matrix is based on the reference calibration session.</li>
<li>The sharpness measure is maximized and the corresponding z is recorded.</li>
<li>A intensity v.s. z is measure</li>
<li>The low light performance at a high z is collected.</li>
</ol>
<p >Step 3 and 4 will the automatically alternated to minimize the motion time of the overall calibration process. </p>

</div>
</div>
<a id="aae2b254cdd1f57778166f000038dff11" name="aae2b254cdd1f57778166f000038dff11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae2b254cdd1f57778166f000038dff11">&#9670;&#160;</a></span>run_system_calibration()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def server.sockets.action.run_system_calibration </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>socketio</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >The processes consists of the the following steps:</p><ol type="1">
<li>The visual calibration matrix is constructed on the first detector in the session.</li>
<li>The visual calibration is performed on all detectors in the session.</li>
<li>The light are requested to be turned off and the luminosity alignment is performed for all detectors in the session.</li>
<li>For each linear detectors, a luminosity vs. z profile of obtained.</li>
<li>For each counting detector, a low light profile is obtained.</li>
</ol>
<p >For system calibration where we expect only a small number of detector elements, we will not be optimizing the motion path. </p>

</div>
</div>
<a id="a21716ab65db2435085e70d984dbdffad" name="a21716ab65db2435085e70d984dbdffad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21716ab65db2435085e70d984dbdffad">&#9670;&#160;</a></span>session_interrupt()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def server.sockets.action.session_interrupt </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>socketio</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >Notice that this should terminate the calibration sequence. </p>

</div>
</div>
<a id="ad080f55d90a798bc1c5a15a56eebd0b4" name="ad080f55d90a798bc1c5a15a56eebd0b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad080f55d90a798bc1c5a15a56eebd0b4">&#9670;&#160;</a></span>set_light()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def server.sockets.action.set_light </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p >This is for local testing on a machine that doesn't have real <a class="el" href="classGPIO.html" title="Interface to the GPIO hardware interfaces.">GPIO</a> control. </p>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.14-->
<!-- start footer part -->
<hr class="footer"/>
  <address class="footer">
    <small>
    Generated by <a href="http://www.doxygen.org/index.html">doxygen</a> 1.9.5
    </small>
  </address>
  <address class="footer">
    <small>
    Source code hosted on<a href="http://github.com">GitHub</a>
    </small>
  </address>
  <address class="footer">
    <small id="debugger">
    Debug:
    </small>
  </address>
<!-- custom Javascript stuff -->
  <script type="text/javascript" src="customjs/summary.js"></script>
</body>
</html>
